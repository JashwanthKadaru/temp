<!DOCTYPE html>
<meta charset="utf-8">
<style>
  .node circle { fill: #999; stroke: steelblue; stroke-width: 1.5px; }
  .node text { font: 12px sans-serif; }
  .link { fill: none; stroke: #555; stroke-width: 1.5px; }

  body {padding-left: 15%;}
</style>
<body>
<script src="https://d3js.org/d3.v6.min.js"></script>
<script>
// ===== D3 collapsible tree setup =====
const data = {"name":"Document","children":[{"name":"Model Documentation Template","children":[]},{"name":"Document Introduction","children":[{"name":"Purpose"},{"name":"Scope"},{"name":"Terms and Descriptions"}]},{"name":"Executive Summary","children":[{"name":"Business Context and Requirements"},{"name":"Objective of the Model"},{"name":"Intended Use and Scope of Applicability"},{"name":"Model Revenue Information"},{"name":"Upstream/Downstream Models"},{"name":"Model Overview"},{"name":"Regulatory/Compliance/Legal Requirements"},{"name":"Model History"},{"name":"Model Ongoing Change Plan"}]},{"name":"Development Data","children":[{"name":"Development Data Set Overview"},{"name":"Data Extraction"},{"name":"Data Reconciliation and Quality"},{"name":"Data Cleansing"},{"name":"Data Sampling"},{"name":"Development Data Testing"},{"name":"Development Data and Processing/Testing Code"}]},{"name":"Model Methodology","children":[{"name":"Model Theory and Approach"},{"name":"Model Features/Variables"},{"name":"Model Assumptions/Limitations"},{"name":"Expert Consultation and Industry Research \\(if applicable\\)"},{"name":"Model Methodology Testing"},{"name":"Model Specification"},{"name":"Model Development and Testing Code"}]},{"name":"Model Output","children":[{"name":"Sensitivity, Stability and Robustness Testing"},{"name":"Calibration and Overlay Testing"},{"name":"Benchmark Testing"},{"name":"Bias Testing"}]},{"name":"Model Implementation","children":[{"name":"Model Implementation Processes and Procedures"},{"name":"Production Input Data"},{"name":"Model Implementation Testing"},{"name":"Updating Production Model"}]},{"name":"Model Ongoing Monitoring","children":[{"name":"Ongoing Monitoring"},{"name":"Business Continuity"},{"name":"Model Access Management"}]},{"name":"Appendix","children":[{"name":"Supplemental Documents"},{"name":"Other"}]}]};

const width = 800, height = 600;
const svg = d3.select('body')
  .append('svg')
    .attr('width', width)
    .attr('height', height)
  .append('g')
    .attr('transform', 'translate(40,0)');

const root = d3.hierarchy(data);
const treeLayout = d3.tree().size([height, width - 160]);
treeLayout(root);

// Links
svg.selectAll('.link')
  .data(root.links())
  .enter()
  .append('path')
    .attr('class', 'link')
    .attr('d', d3.linkHorizontal()
      .x(d => d.y)
      .y(d => d.x)
    );

// Nodes
const node = svg.selectAll('.node')
  .data(root.descendants())
  .enter()
  .append('g')
    .attr('class', 'node')
    .attr('transform', d => `translate(${d.y},${d.x})`);

node.append('circle')
    .attr('r', 4);

node.append('text')
    .attr('dy', '0.31em')
    .attr('x', d => d.children ? -8 : 8)
    .style('text-anchor', d => d.children ? 'end' : 'start')
    .text(d => d.data.name);
</script>
